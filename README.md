# tsync

**ะกะธััะตะผะฐ ัะธะฝััะพะฝะธะทะฐัะธะธ toolkit** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะพะฑัะธะผะธ ะบะพะฝัะธะณััะฐัะธัะผะธ, ัะฐะฑะปะพะฝะฐะผะธ ะธ ัะฐะนะปะฐะผะธ ะผะตะถะดั ะฝะตัะบะพะปัะบะธะผะธ ะฟัะพะตะบัะฐะผะธ.

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะ ะฟัะพะตะบัะต](#ะพ-ะฟัะพะตะบัะต)
- [ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ](#ะบะปััะตะฒัะต-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะฃััะฐะฝะพะฒะบะฐ](#ัััะฐะฝะพะฒะบะฐ)
- [ะัััััะน ััะฐัั](#ะฑัััััะน-ััะฐัั)
- [ะะพะฝัะตะฟัะธะธ](#ะบะพะฝัะตะฟัะธะธ)
- [ะะพะปะธัะธะบะธ ัะธะฝััะพะฝะธะทะฐัะธะธ](#ะฟะพะปะธัะธะบะธ-ัะธะฝััะพะฝะธะทะฐัะธะธ)
- [ะะพะฝัะธะณััะฐัะธั](#ะบะพะฝัะธะณััะฐัะธั)
- [ะัะฟะพะปัะทะพะฒะฐะฝะธะต CLI](#ะธัะฟะพะปัะทะพะฒะฐะฝะธะต-cli)
- [ะัะธะผะตัั](#ะฟัะธะผะตัั)
- [ะะฐะทัะฐะฑะพัะบะฐ](#ัะฐะทัะฐะฑะพัะบะฐ)

## ะ ะฟัะพะตะบัะต

`tsync` ัะตัะฐะตั ะฟัะพะฑะปะตะผั ะดัะฑะปะธัะพะฒะฐะฝะธั ะบะพะฝัะธะณััะฐัะธะน ะผะตะถะดั ะฟัะพะตะบัะฐะผะธ. ะะผะตััะพ ะบะพะฟะธัะพะฒะฐะฝะธั ัะฐะนะปะพะฒ ะฒัััะฝัั ะธะปะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั git submodules, tsync ะฟะพะทะฒะพะปัะตั ัะพะทะดะฐัั ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะน toolkit-ัะตะฟะพะทะธัะพัะธะน ะธ ัะธะฝััะพะฝะธะทะธัะพะฒะฐัั ะธะท ะฝะตะณะพ ัะฐะนะปั ะฒ ะฒะฐัะธ ะฟัะพะตะบัั ั ะณะธะฑะบะธะผะธ ะฟัะฐะฒะธะปะฐะผะธ ะธ ะฟะตัะตะพะฟัะตะดะตะปะตะฝะธัะผะธ.

### ะัะพะฑะปะตะผะฐ

ะ ะบะพะผะฟะฐะฝะธัั ั ะผะฝะพะถะตััะฒะพะผ ะผะธะบัะพัะตัะฒะธัะพะฒ ัะฐััะพ ะฒะพะทะฝะธะบะฐะตั ะฝะตะพะฑัะพะดะธะผะพััั:
- ะัะฟะพะปัะทะพะฒะฐัั ะพะดะธะฝะฐะบะพะฒัะต ะบะพะฝัะธะณััะฐัะธะธ ะปะธะฝัะตัะพะฒ (ruff, black, mypy)
- ะกะธะฝััะพะฝะธะทะธัะพะฒะฐัั CI/CD ะฟะฐะนะฟะปะฐะนะฝั
- ะะพะดะดะตัะถะธะฒะฐัั ะตะดะธะฝัะน ััะธะปั Dockerfile ะธ docker-compose
- ะะฑะฝะพะฒะปััั ะพะฑัะธะต ัะฐะฑะปะพะฝั ะธ ัะบัะธะฟัั

### ะะตัะตะฝะธะต

tsync ะฟัะตะดะพััะฐะฒะปัะตั:
- **ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะต ััะฐะฝะธะปะธัะต** ะบะพะฝัะธะณััะฐัะธะน (toolkit)
- **ะะตััะธะพะฝะธัะพะฒะฐะฝะธะต** ัะตัะตะท git (ัะตะณะธ, ะฒะตัะบะธ, ะบะพะผะผะธัั)
- **ะะธะฑะบะธะต ะฟะพะปะธัะธะบะธ ัะธะฝััะพะฝะธะทะฐัะธะธ** (ะฟัะธะฝัะดะธัะตะปัะฝะฐั, ะธะฝะธัะธะฐะปะธะทะฐัะธั, ัะฐะฑะปะพะฝะธะทะฐัะธั, ัะปะธัะฝะธะต)
- **ะะตัะตะพะฟัะตะดะตะปะตะฝะธั** ะฝะฐ ััะพะฒะฝะต ะฟัะพะตะบัะฐ
- **ะคะธะปัััะฐัะธั ะฟะพ ัะตะณะฐะผ** ะดะปั ะฒัะฑะพัะพัะฝะพะน ัะธะฝััะพะฝะธะทะฐัะธะธ

## ะะปััะตะฒัะต ะฒะพะทะผะพะถะฝะพััะธ

โ **ะงะตัััะต ะฟะพะปะธัะธะบะธ ัะธะฝััะพะฝะธะทะฐัะธะธ:**
- `sync-strict` โ ะฟัะธะฝัะดะธัะตะปัะฝะฐั ะฟะตัะตะทะฐะฟะธัั
- `init` โ ัะพะทะดะฐะฝะธะต ัะฐะนะปะฐ ัะพะปัะบะพ ะตัะปะธ ะตะณะพ ะฝะตั
- `template` โ ัะตะฝะดะตัะธะฝะณ Jinja2-ัะฐะฑะปะพะฝะพะฒ ั ะฟะตัะตะผะตะฝะฝัะผะธ
- `merge` โ ัะผะฝะพะต ัะปะธัะฝะธะต (YAML, JSON, ัะตะบััะพะฒัะต ัะฐะนะปั)

โ **ะะธะฑะบะฐั ัะธััะตะผะฐ ะฟะตัะตะผะตะฝะฝัั** ั ะธะตัะฐััะธะตะน ะฟัะธะพัะธัะตัะพะฒ

โ **ะคะธะปัััะฐัะธั ัะฐะนะปะพะฒ ะฟะพ ัะตะณะฐะผ** (include/exclude)

โ **ะะพะดะดะตัะถะบะฐ ะฒะตััะธะน toolkit** ัะตัะตะท git

โ **ะะพะบะฐะปัะฝะพะต ะบััะธัะพะฒะฐะฝะธะต** ัะตะฟะพะทะธัะพัะธะตะฒ toolkit

## ะฃััะฐะฝะพะฒะบะฐ

### ะะท ะธััะพะดะฝะธะบะพะฒ

```bash
# ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/flux-guard/tsync.git
cd tsync

# ะฃััะฐะฝะพะฒะธัั ะฒ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ
pip install -e .

# ะะปะธ ั dev-ะทะฐะฒะธัะธะผะพัััะผะธ
pip install -e ".[dev]"
```

### ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะบะธ

```bash
tsync --version
```

## ะัััััะน ััะฐัั

### 1. ะกะพะทะดะฐะนัะต toolkit-ัะตะฟะพะทะธัะพัะธะน

ะกะพะทะดะฐะนัะต Git-ัะตะฟะพะทะธัะพัะธะน ั ัะฐะนะปะพะผ `.toolkit.yml`:

```yaml
toolkit_version: "1.0.0"

aliases:
  python-service:
    description: "ะะฐะทะพะฒะฐั ะบะพะฝัะธะณััะฐัะธั ะดะปั Python-ัะตัะฒะธัะฐ"
    components:
      - id: "linters"
        description: "ะะพะฝัะธะณััะฐัะธั ะปะธะฝัะตัะพะฒ"
        files:
          - source: "templates/python/.ruff.toml"
            destination: ".ruff.toml"
            policy: "sync-strict"

      - id: "dockerfile"
        description: "Dockerfile ะดะปั ัะตัะฒะธัะฐ"
        var_schema:
          python_version:
            description: "ะะตััะธั Python"
            required: true
        files:
          - source: "templates/python/Dockerfile.tpl"
            destination: "Dockerfile"
            policy: "template"
```

### 2. ะกะพะทะดะฐะนัะต ัะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ ะฒ ะฟัะพะตะบัะต

ะ ะฒะฐัะตะผ ะฟัะพะตะบัะต ัะพะทะดะฐะนัะต `.project.toolkit.yml`:

```yaml
provider:
  url: "git@github.com:your-company/toolkit.git"
  version: "v1.0.0"

vars:
  python_version: "3.11"

sync:
  - alias: "python-service"
```

### 3. ะะฐะฟัััะธัะต ัะธะฝััะพะฝะธะทะฐัะธั

```bash
tsync
```

ะะพัะพะฒะพ! ะคะฐะนะปั ัะธะฝััะพะฝะธะทะธัะพะฒะฐะฝั ะธะท toolkit ะฒ ะฒะฐั ะฟัะพะตะบั.

## ะะพะฝัะตะฟัะธะธ

### Provider (ะะพััะฐะฒัะธะบ)

**Provider** โ ััะพ Git-ัะตะฟะพะทะธัะพัะธะน, ัะพะดะตัะถะฐัะธะน ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะน ะฝะฐะฑะพั ะบะพะฝัะธะณััะฐัะธะน (toolkit). ะะฟัะตะดะตะปัะตััั ัะฐะนะปะพะผ `.toolkit.yml`.

**ะกัััะบัััะฐ:**
- **Aliases** โ ะธะผะตะฝะพะฒะฐะฝะฝัะต ะฝะฐะฑะพัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- **Components** โ ะปะพะณะธัะตัะบะธะต ะณััะฟะฟั ัะฐะนะปะพะฒ
- **Files** โ ัะธะทะธัะตัะบะธะต ัะฐะนะปั ั ะฟะพะปะธัะธะบะฐะผะธ ัะธะฝััะพะฝะธะทะฐัะธะธ
- **Schema** โ ะบะพะฝััะฐะบัั ะฟะตัะตะผะตะฝะฝัั

### Consumer (ะะพััะตะฑะธัะตะปั)

**Consumer** โ ััะพ ะฟัะพะตะบั, ะบะพัะพััะน ะธัะฟะพะปัะทัะตั toolkit. ะะฟัะตะดะตะปัะตััั ัะฐะนะปะพะผ `.project.toolkit.yml`.

**ะะพะทะผะพะถะฝะพััะธ:**
- ะัะฑะพั alias ะดะปั ัะธะฝััะพะฝะธะทะฐัะธะธ
- ะะตัะตะพะฟัะตะดะตะปะตะฝะธะต ะฟััะตะน ะฝะฐะทะฝะฐัะตะฝะธั
- ะคะธะปัััะฐัะธั ัะฐะนะปะพะฒ ะฟะพ ัะตะณะฐะผ
- ะะตัะตะพะฟัะตะดะตะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัั

### Context (ะะพะฝัะตะบัั)

**Context** โ ะพะฑัะตะบั, ะฟะตัะตะดะฐะฒะฐะตะผัะน ัััะฐัะตะณะธัะผ ัะธะฝััะพะฝะธะทะฐัะธะธ, ัะพะดะตัะถะฐัะธะน:
- ะััั ะบ ะธััะพะดะฝะพะผั ัะฐะนะปั (ะฒ toolkit)
- ะััั ะบ ัะตะปะตะฒะพะผั ัะฐะนะปั (ะฒ ะฟัะพะตะบัะต)
- ะะพะฝัะธะณััะฐัะธั ัะฐะนะปะฐ
- ะะฑัะตะดะธะฝะตะฝะฝัะต ะฟะตัะตะผะตะฝะฝัะต
- ะคะปะฐะณ ัััะตััะฒะพะฒะฐะฝะธั ัะตะปะตะฒะพะณะพ ัะฐะนะปะฐ

## ะะพะปะธัะธะบะธ ัะธะฝััะพะฝะธะทะฐัะธะธ

### 1. `sync-strict` โ ะัะธะฝัะดะธัะตะปัะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั

ะคะฐะนะป ะฒัะตะณะดะฐ ะฟะตัะตะทะฐะฟะธััะฒะฐะตััั ะฒะตััะธะตะน ะธะท toolkit. ะะพะบะฐะปัะฝัะต ะธะทะผะตะฝะตะฝะธั ัะตัััััั.

**ะัะธะผะตะฝะตะฝะธะต:** ะบะพะฝัะธะณััะฐัะธะธ ะปะธะฝัะตัะพะฒ, CI/CD, ะบะพัะพััะต ะดะพะปะถะฝั ะฑััั ะตะดะธะฝัะผะธ.

```yaml
files:
  - source: "configs/.ruff.toml"
    destination: ".ruff.toml"
    policy: "sync-strict"
```

### 2. `init` โ ะะฝะธัะธะฐะปะธะทะฐัะธั

ะคะฐะนะป ัะพะทะดะฐะตััั ัะพะปัะบะพ ะตัะปะธ ะตะณะพ ะฝะตั. ะกััะตััะฒัััะธะต ัะฐะนะปั ะฝะต ััะพะณะฐัััั.

**ะัะธะผะตะฝะตะฝะธะต:** ัะฐะนะปั-ัะฐะฑะปะพะฝั, ะบะพัะพััะต ะฒัะตะณะดะฐ ะบะฐััะพะผะธะทะธัััััั (ะฝะฐะฟัะธะผะตั, `.env.example`).

```yaml
files:
  - source: "templates/.env.example"
    destination: ".env"
    policy: "init"
```

### 3. `template` โ ะจะฐะฑะปะพะฝะธะทะฐัะธั

ะคะฐะนะป ัะตะฝะดะตัะธััั ะบะฐะบ Jinja2-ัะฐะฑะปะพะฝ ั ะฟะพะดััะฐะฝะพะฒะบะพะน ะฟะตัะตะผะตะฝะฝัั.

**ะัะธะผะตะฝะตะฝะธะต:** Dockerfile, Makefile, ะบะพะฝัะธะณััะฐัะธะธ ั ะฟะฐัะฐะผะตััะฐะผะธ ะฟัะพะตะบัะฐ.

```yaml
files:
  - source: "templates/Dockerfile.tpl"
    destination: "Dockerfile"
    policy: "template"
```

**ะัะธะผะตั ัะฐะฑะปะพะฝะฐ:**
```dockerfile
FROM python:{{ python_version }}-slim
WORKDIR {{ workdir }}
```

### 4. `merge` โ ะฃะผะฝะพะต ัะปะธัะฝะธะต

ะกะปะธัะฝะธะต ัะพะดะตัะถะธะผะพะณะพ ั ัััะตััะฒัััะธะผ ัะฐะนะปะพะผ:
- **YAML/JSON**: ัะตะบัััะธะฒะฝะพะต ะพะฑัะตะดะธะฝะตะฝะธะต ะบะปััะตะน
- **ะขะตะบัั**: ะดะพะฑะฐะฒะปะตะฝะธะต ัะฝะธะบะฐะปัะฝัั ัััะพะบ

**ะัะธะผะตะฝะตะฝะธะต:** `.gitignore`, `pyproject.toml`, `package.json`.

```yaml
files:
  - source: "templates/.gitignore"
    destination: ".gitignore"
    policy: "merge"
    merge_priority: "toolkit"  # ะธะปะธ "project"
```

## ะะพะฝัะธะณััะฐัะธั

### ะะฐะฝะธัะตัั Provider (.toolkit.yml)

```yaml
toolkit_version: "1.0.0"

aliases:
  service-name:
    description: "ะะฟะธัะฐะฝะธะต ะฝะฐะฑะพัะฐ"
    vars:
      # ะะปะพะฑะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะดะปั alias
      default_var: "value"

    components:
      - id: "component-id"
        description: "ะะฟะธัะฐะฝะธะต ะบะพะผะฟะพะฝะตะฝัะฐ"

        var_schema:
          # ะะพะฝััะฐะบั ะฟะตัะตะผะตะฝะฝัั
          required_var:
            description: "ะะฟะธัะฐะฝะธะต ะฟะตัะตะผะตะฝะฝะพะน"
            required: true
          optional_var:
            description: "ะะฟัะธะพะฝะฐะปัะฝะฐั ะฟะตัะตะผะตะฝะฝะฐั"
            required: false
            default: "default_value"

        vars:
          # ะะตัะตะผะตะฝะฝัะต ะบะพะผะฟะพะฝะตะฝัะฐ
          component_var: "value"

        files:
          - source: "path/in/toolkit"
            destination: "path/in/project"
            policy: "sync-strict"  # ะธะปะธ "init", "template", "merge"
            merge_as: "yaml"  # ะดะปั policy: merge
            merge_priority: "toolkit"  # ะธะปะธ "project"
            tags: ["tag1", "tag2"]
            vars:
              file_var: "value"
```

### ะะฐะฝะธัะตัั Consumer (.project.toolkit.yml)

```yaml
provider:
  url: "git@github.com:company/toolkit.git"
  version: "v1.0.0"  # ัะตะณ, ะฒะตัะบะฐ ะธะปะธ commit hash

vars:
  # ะะปะพะฑะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะฟัะพะตะบัะฐ
  python_version: "3.11"

sync:
  - alias: "python-service"
    overrides:
      - id: "dockerfile"
        skip: false
        destination_root: "docker/"
        include_tags: ["production"]
        exclude_tags: ["development"]
        vars:
          # ะะตัะตะพะฟัะตะดะตะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัั ะบะพะผะฟะพะฝะตะฝัะฐ
          python_version: "3.12"
        files:
          - source: "templates/Dockerfile.tpl"
            destination: "Dockerfile.prod"
            skip: false
            vars:
              # ะะตัะตะพะฟัะตะดะตะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัั ัะฐะนะปะฐ
              workdir: "/app"
```

### ะะตัะฐััะธั ะฟะตัะตะผะตะฝะฝัั (ะฟัะธะพัะธัะตั ะพั ะฝะธะทะบะพะณะพ ะบ ะฒััะพะบะพะผั)

1. ะะปะพะฑะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต consumer (`vars` ะฒ ะบะพัะฝะต) โ ะฒะบะปััะฐั ะฟะตัะตะผะตะฝะฝัะต ะธะท variant
2. ะะตัะตะผะตะฝะฝัะต alias provider (`alias.vars`)
3. ะะตัะตะผะตะฝะฝัะต ะบะพะผะฟะพะฝะตะฝัะฐ provider (`component.vars`)
4. ะะตัะตะผะตะฝะฝัะต ะบะพะผะฟะพะฝะตะฝัะฐ consumer (`override.vars`)
5. ะะตัะตะผะตะฝะฝัะต ัะฐะนะปะฐ provider (`file.vars`)
6. **ะะตัะตะผะตะฝะฝัะต ัะฐะนะปะฐ consumer** (`override.files[].vars`) โ ะฝะฐะธะฒัััะธะน ะฟัะธะพัะธัะตั

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต CLI

```bash
# ะกะธะฝััะพะฝะธะทะฐัะธั ัะตะบััะตะณะพ ะฟัะพะตะบัะฐ
tsync

# ะฃะบะฐะทะฐัั ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
tsync --project-dir /path/to/project

# ะฃะบะฐะทะฐัั ะบัั ะดะปั toolkit
tsync --cache-dir ~/.tsync/cache

# ะะพะดัะพะฑะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต
tsync --verbose
tsync -v

# ะะพะบะฐะทะฐัั ะฒะตััะธั
tsync --version

# ะกะฟัะฐะฒะบะฐ
tsync --help
```

### ะะฐัะฟะพะปะพะถะตะฝะธะต ัะฐะนะปะพะฒ

- **ะะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ:** `.project.toolkit.yml` (ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ)
- **ะัั toolkit:** `~/.tsync/cache/` (ะฟะพ ัะผะพะปัะฐะฝะธั)

## ะัะธะผะตัั

### ะัะธะผะตั 1: ะะฑัะธะต ะปะธะฝัะตัั ะดะปั Python-ะฟัะพะตะบัะพะฒ

**Toolkit (.toolkit.yml):**
```yaml
toolkit_version: "1.0.0"

aliases:
  python-linters:
    description: "ะกัะฐะฝะดะฐััะฝัะต ะปะธะฝัะตัั ะดะปั Python"
    components:
      - id: "linters"
        description: "ะะพะฝัะธะณััะฐัะธะธ ruff, black, mypy"
        files:
          - source: "python/.ruff.toml"
            destination: ".ruff.toml"
            policy: "sync-strict"

          - source: "python/pyproject.toml"
            destination: "pyproject.toml"
            policy: "merge"
            merge_as: "yaml"
```

**ะัะพะตะบั (.project.toolkit.yml):**
```yaml
provider:
  url: "git@github.com:company/toolkit.git"
  version: "main"

sync:
  - alias: "python-linters"
```

### ะัะธะผะตั 2: Dockerfile ั ะฟะตัะตะผะตะฝะฝัะผะธ

**Toolkit โ Dockerfile.tpl:**
```dockerfile
FROM python:{{ python_version }}-slim

WORKDIR {{ workdir }}

RUN pip install --no-cache-dir poetry=={{ poetry_version }}

COPY . .

RUN poetry install --no-dev

CMD ["python", "{{ entrypoint }}"]
```

**Toolkit (.toolkit.yml):**
```yaml
aliases:
  python-service:
    components:
      - id: "dockerfile"
        var_schema:
          python_version:
            description: "ะะตััะธั Python"
            required: true
          workdir:
            description: "ะะฐะฑะพัะฐั ะดะธัะตะบัะพัะธั"
            default: "/app"
          poetry_version:
            description: "ะะตััะธั Poetry"
            default: "1.7.1"
          entrypoint:
            description: "ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั"
            required: true
        files:
          - source: "templates/Dockerfile.tpl"
            destination: "Dockerfile"
            policy: "template"
```

**ะัะพะตะบั (.project.toolkit.yml):**
```yaml
provider:
  url: "git@github.com:company/toolkit.git"
  version: "v2.0.0"

vars:
  python_version: "3.11"
  entrypoint: "main.py"

sync:
  - alias: "python-service"
```

### ะัะธะผะตั 3: ะคะธะปัััะฐัะธั ะฟะพ ัะตะณะฐะผ

**Toolkit (.toolkit.yml):**
```yaml
aliases:
  full-stack:
    components:
      - id: "configs"
        files:
          - source: "backend/Dockerfile"
            destination: "backend/Dockerfile"
            policy: "sync-strict"
            tags: ["backend", "docker"]

          - source: "frontend/Dockerfile"
            destination: "frontend/Dockerfile"
            policy: "sync-strict"
            tags: ["frontend", "docker"]

          - source: "nginx/nginx.conf"
            destination: "nginx.conf"
            policy: "init"
            tags: ["nginx", "production"]
```

**ะัะพะตะบั (ัะพะปัะบะพ backend):**
```yaml
sync:
  - alias: "full-stack"
    overrides:
      - id: "configs"
        include_tags: ["backend"]  # ะขะพะปัะบะพ backend ัะฐะนะปั
```

**ะัะพะตะบั (ะฑะตะท production):**
```yaml
sync:
  - alias: "full-stack"
    overrides:
      - id: "configs"
        exclude_tags: ["production"]  # ะัั ะบัะพะผะต production
```

### ะัะธะผะตั 4: ะัะฟะพะปัะทะพะฒะฐะฝะธะต Alias vars ะดะปั ะพะฑัะธั ะฝะฐัััะพะตะบ

**Toolkit (.toolkit.yml):**
```yaml
aliases:
  python-app:
    description: "Python ะฟัะธะปะพะถะตะฝะธะต"
    vars:
      # ะะฑัะธะต ะฟะตัะตะผะตะฝะฝัะต ะดะปั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ ะฒ ััะพะผ alias
      python_version: "3.11"
      app_env: "production"
      log_level: "INFO"
    components:
      - id: "dockerfile"
        files:
          - source: "templates/Dockerfile.j2"
            destination: "Dockerfile"
            policy: "template"

      - id: "config"
        files:
          - source: "templates/config.yaml.j2"
            destination: "config/app.yaml"
            policy: "template"
```

**ะัะพะตะบั (.project.toolkit.yml):**
```yaml
provider:
  url: "git@github.com:company/toolkit.git"
  version: "v1.0.0"

vars:
  app_name: "my-service"  # ะะปะพะฑะฐะปัะฝะฐั ะฟะตัะตะผะตะฝะฝะฐั ะฟัะพะตะบัะฐ

sync:
  - alias: "python-app"
    # python_version, app_env, log_level ะฝะฐัะปะตะดััััั ะธะท alias.vars
    # ะธ ะฑัะดัั ะดะพัััะฟะฝั ะฒะพ ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะฐั
    overrides:
      - id: "config"
        vars:
          log_level: "DEBUG"  # ะะตัะตะพะฟัะตะดะตะปัะตะผ ะดะปั ะบะพะฝะบัะตัะฝะพะณะพ ะบะพะผะฟะพะฝะตะฝัะฐ
```

ะ ััะพะผ ะฟัะธะผะตัะต:
- `python_version: "3.11"` ะธ `app_env: "production"` ะดะพัััะฟะฝั ะฒะพ ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะฐั alias
- `log_level: "INFO"` ะฟะตัะตะพะฟัะตะดะตะปัะตััั ะฝะฐ `"DEBUG"` ะดะปั ะบะพะผะฟะพะฝะตะฝัะฐ `config`
- `app_name: "my-service"` ะดะพัััะฟะตะฝ ะณะปะพะฑะฐะปัะฝะพ ะธะท ะบะพัะฝั `.project.toolkit.yml`

## ะะฐะทัะฐะฑะพัะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั

- Python >= 3.10
- Git

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะฃััะฐะฝะพะฒะธัั ั dev-ะทะฐะฒะธัะธะผะพัััะผะธ
pip install -e ".[dev]"
```

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
pytest
pytest --cov=tsync --cov-report=html
```

### ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ

```bash
# ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต
black src/

# ะัะพะฒะตัะบะฐ ััะธะปั
ruff check src/

# ะะฒัะพะธัะฟัะฐะฒะปะตะฝะธะต
ruff check --fix src/
```

### ะัะพะฒะตัะบะฐ ัะธะฟะพะฒ

```bash
mypy src/
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
tsync/
โโโ src/
โ   โโโ tsync/
โ       โโโ __init__.py
โ       โโโ cli.py              # CLI ะธะฝัะตััะตะนั
โ       โโโ app.py              # ะะปะฐะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
โ       โโโ models/             # Pydantic ะผะพะดะตะปะธ
โ       โ   โโโ consumer.py     # ะะพะดะตะปะธ consumer
โ       โ   โโโ provider.py     # ะะพะดะตะปะธ provider
โ       โ   โโโ context.py      # ะะพะฝัะตะบัั ัะธะฝััะพะฝะธะทะฐัะธะธ
โ       โ   โโโ policy.py       # ะะพะปะธัะธะบะธ
โ       โ   โโโ merge.py        # ะขะธะฟั ัะปะธัะฝะธั
โ       โโโ handlers/           # ะกััะฐัะตะณะธะธ ัะธะฝััะพะฝะธะทะฐัะธะธ
โ       โ   โโโ base.py         # ะะฐะทะพะฒัะน ะบะปะฐัั
โ       โ   โโโ sync_strict.py  # sync-strict
โ       โ   โโโ init.py         # init
โ       โ   โโโ template.py     # template
โ       โ   โโโ merge.py        # merge (ะดะธัะฟะตััะตั)
โ       โ   โโโ mergers/        # ะะฑัะฐะฑะพััะธะบะธ ัะปะธัะฝะธั
โ       โ       โโโ yaml.py
โ       โ       โโโ json.py
โ       โ       โโโ text.py
โ       โโโ services/           # ะกะตัะฒะธัั
โ           โโโ sync.py         # ะัะบะตัััะฐัะพั ัะธะฝััะพะฝะธะทะฐัะธะธ
โ           โโโ git.py          # Git ะพะฟะตัะฐัะธะธ
โ           โโโ fs.py           # ะคะฐะนะปะพะฒะฐั ัะธััะตะผะฐ
โ           โโโ template.py     # ะะตะฝะดะตัะธะฝะณ ัะฐะฑะปะพะฝะพะฒ
โโโ tests/                      # ะขะตััั
โโโ pyproject.toml             # ะะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ
โโโ README.md                  # ะญัะพั ัะฐะนะป
โโโ CLAUDE.md                  # ะะพะบัะผะตะฝัะฐัะธั ะดะปั Claude Code
```

### ะััะธัะตะบัััะฐ

- **Strategy Pattern**: ะะฐะถะดะฐั ะฟะพะปะธัะธะบะฐ โ ะพัะดะตะปัะฝะฐั ัััะฐัะตะณะธั
- **Service Layer**: ะะทะพะปััะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ
- **Dependency Injection**: ะกะตัะฒะธัั ะธะฝะถะตะบััััั ะฒ ะบะพะฝััััะบัะพัั
- **Pydantic Models**: ะะฐะปะธะดะฐัะธั ะบะพะฝัะธะณััะฐัะธะน

## ะะธัะตะฝะทะธั

MIT License. ะกะผ. [LICENSE](LICENSE) ะดะปั ะดะตัะฐะปะตะน.

## ะะฒัะพัั

- **flux-guard** - [GitHub](https://github.com/flux-guard)

## ะะพะดะดะตัะถะบะฐ

ะัะปะธ ั ะฒะฐั ะฒะพะทะฝะธะบะปะธ ะฟัะพะฑะปะตะผั ะธะปะธ ะฒะพะฟัะพัั:
- ะกะพะทะดะฐะนัะต [Issue](https://github.com/flux-guard/tsync/issues)
- ะัะพัะธัะฐะนัะต [CLAUDE.md](CLAUDE.md) ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ

---

**tsync** โ ัะธะฝััะพะฝะธะทะฐัะธั ะบะพะฝัะธะณััะฐัะธะน ะดะพะปะถะฝะฐ ะฑััั ะฟัะพััะพะน! ๐
